#:kivy 1.0.4
            
<InputPopup>:
	size_hint: 0.3, 0.2
	title: 'Select a character'
	title_color: 1, 1, 1, 1
	title_align: 'center'
	canvas:
		Color:
			rgb: 1, 1, 1
			
<ReadPopup>:
	size_hint: 0.3, 0.2
	title: 'Select read character'
	title_color: 1, 1, 1, 1
	title_align: 'center'
	canvas:
		Color:
			rgb: 1, 1, 1
			
<WritePopup>:
	size_hint: 0.3, 0.2
	title: 'Select write character'
	title_color: 1, 1, 1, 1
	title_align: 'center'
	canvas:
		Color:
			rgb: 1, 1, 1

<DirectionPopup>:
	size_hint: 0.3, 0.2
	title: 'Select a direction'
	title_color: 1, 1, 1, 1
	title_align: 'center'
	canvas:
		Color:
			rgb: 1, 1, 1

<AlphabetPopup>:
	size_hint: 0.3, 0.2
	title: 'Enter new alphabet'
	title_color: 1, 1, 1, 1
	title_align: 'center'
	canvas:
		Color:
			rgb: 1, 1, 1

<RunSpeedPopup>:
	size_hint: 0.3, 0.2
	title: 'Select run speed'
	title_color: 1, 1, 1, 1
	title_align: 'center'
	canvas:
		Color:
			rgb: 1, 1, 1	
	    
<TopBar>:
	ActionBar: 
		width: 500
		pos_hint: {'top': 1}
        ActionView: 
	        use_separator: True
	        ActionPrevious:
	            title: 'Turing Machine Simulator'
	            with_previous: False
	        ActionOverflow:
	        ActionButton:
	        	text: 'Step back'
	        	on_press: root.step_back()
	        	icon: 'step_back.png'
	        ActionButton:
	            text: 'Run'
	            on_press: root.run_turing()
	            icon: 'atlas://data/images/defaulttheme/media-playback-start'
	        ActionButton:
	        	text: 'Stop'
	        	icon: 'atlas://data/images/defaulttheme/media-playback-stop'
	        	on_press: root.stop()
	        ActionButton:
	            text: 'Save'
	            on_press: root.show_save()
	        ActionButton:
	            text: 'Open'
	            on_press: root.show_load()
	        ActionButton:
	            text: 'Undo'
	            on_press: root.undo()
	        ActionButton:
	            text: 'Share'
	            on_press: root.email()
	        ActionGroup:
	            text: 'Settings'
	            ActionButton:
	                text: 'Alphabet'
	                on_press: root.enter_alphabet()
	            ActionButton:
	                text: 'Run Speed'
	                on_press: root.edit_run_speed()

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<SaveDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)
	    
<TuringCanvas>:
	ScrollView:
		canvas:
			Color:
				rgba: 1,1,0,1
			Rectangle:
				pos: 0, 0
				size: self.width, self.height
	